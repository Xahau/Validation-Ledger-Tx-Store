<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Validation Ledger &amp; Transaction Store</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  </head>
  <body>
    <div class="container">
      <h1 class="h2 pt-2">Validation Ledger &amp; Transaction Store</h1>

      <div class="row">
        <div class="col-12 col-md-4">
          <div class="alert alert-warning">
            This service collects validation messages, ledger &amp; transaction information
            and stores &amp; serves the raw data, and generated
            <code><a href="https://github.com/XRPLF/XRPL-Standards/discussions/107">xPOP</a></code> blobs.
          </div>
        </div>
        <div class="col-12 col-md-8">
          <div class="alert alert-warning">
            <ul class="mb-0 ps-3">
              <li>
                <a href="{{ config.urlprefix }}/xpop/...">xPOP storage location</a><br />
                <code>{{ config.urlprefix }}/xpop/{ hash }</code>
              </li>
              <li>
                <a href="{{ config.urlprefix }}/{{ config.networkid }}/">Browse source data (per ledger)</a><br />
                <code>{{ config.urlprefix }}/{{ config.networkid }}/...</code>
              </li>
              <li>
                <a href="{{ config.urlprefix }}/health">Health / stats endpoint</a><br />
                <code>{{ config.urlprefix }}/health</code>
              </li>
              <li>
                <a href="{{ config.urlprefix.replace('http', 'ws') }}">xPOP event websocket</a><br />
                <code>{{ config.urlprefix.replace('http', 'ws') }} (WEBSOCKET)</code>
              </li>
              <li>
                <a href="{{ config.urlprefix.replace('http', 'ws') }}/blob">xPOP event websocket + Blob</a><br />
                <code>{{ config.urlprefix.replace('http', 'ws') }}/blob (WEBSOCKET)</code>
              </li>
              <li>
                <a href="{{ config.urlprefix.replace('http', 'ws') }}/blob/rAddress...">xPOP event websocket for specific account + Blob</a><br />
                <code>{{ config.urlprefix.replace('http', 'ws') }}/blob/rAddress... (WEBSOCKET)</code>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <h4 class="mt-2">Stats</h4>
      
      <div class="card shadow-sm bg-primary text-white border-2">
        <div class="card-body px-3 py-2">
          <pre class="mb-0">{{ config|dump(2) }}</pre>
        </div>
      </div>

      <h4 class="mt-2">Stats</h4>

      <div class="card shadow-sm bg-primary text-white border-2">
        <div class="card-body px-3 py-2">
          <pre class="mb-0">{{ stats|dump(2) }}</pre>
        </div>
      </div>

      <br />
      ðŸš€ Run your own instance: <a href="https://github.com/Xahau/Validation-Ledger-Tx-Store-to-xPOP">Source</a>
    </div>
  </body>
</html>